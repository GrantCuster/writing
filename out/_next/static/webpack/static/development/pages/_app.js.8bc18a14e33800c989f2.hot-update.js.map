{"version":3,"file":"static/webpack/static/development/pages/_app.js.8bc18a14e33800c989f2.hot-update.js","sources":["webpack:///./pages/_app.js"],"sourcesContent":["import App, { Container } from 'next/app'\nimport Link from 'next/link'\nimport { PostLayout } from '../parts/Layout'\nimport React from 'react'\nimport { font_size, line_height, font_min, sm } from '../parts/Static'\nimport { debounce } from 'lodash'\nimport Header from '../parts/Header'\nimport Head from 'next/head'\n\n// Override the App class to put layout component around the page contents\n// https://github.com/zeit/next.js#custom-app\n\nexport default class MyApp extends App {\n  constructor(props) {\n    super(props)\n    this.state = {\n      ww: 640,\n      wh: 480,\n      optimal: 600,\n      loaded: false,\n      render_info: null,\n      origin: null,\n    }\n    this.setSize = this.setSize.bind(this)\n    this.setSize = debounce(this.setSize, 100)\n  }\n\n  setSize() {\n    this.setState({\n      ww: document.documentElement.clientWidth,\n      wh: window.innerHeight,\n      loaded: true,\n    })\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.setSize)\n    this.setSize()\n    let render_info = Bowser.getParser(window.navigator.userAgent).parse()\n      .parsedResult\n    this.setState({ render_info, origin: window.location.href })\n  }\n\n  render() {\n    let { ww, wh, loaded, optimal } = this.state\n    const { Component, pageProps } = this.props\n    const { pathname } = this.props.router\n\n    let is_post = pathname.startsWith('/posts/')\n\n    let grem = font_size * line_height\n\n    let dividers = 4\n    let column_raw = Math.floor(ww / (optimal / dividers))\n    let column_num = Math.floor(column_raw / 2) * 2\n    let c = Math.round((ww / column_raw) * 10) / 10\n\n    return (\n      <Container>\n        <Head>\n          <style>{`.js-no-flash { display: none }`}</style>\n          <noscript>\n            <style>{`.js-no-flash { display: block }`}</style>\n          </noscript>\n        </Head>\n        <style jsx global>{`\n          @font-face {\n            font-family: 'Inter';\n            font-style: normal;\n            font-weight: 400;\n            src: url('/static/fonts/Inter-Regular.woff2?v=3.5') format('woff2'),\n              url('/static/fonts/Inter-Regular.woff?v=3.5') format('woff');\n          }\n          @font-face {\n            font-family: 'Inter';\n            font-style: italic;\n            font-weight: 400;\n            src: url('/static/fonts/Inter-Italic.woff2?v=3.5') format('woff2'),\n              url('/static/fonts/Inter-Italic.woff?v=3.5') format('woff');\n          }\n          @font-face {\n            font-family: 'Inter';\n            font-style: normal;\n            font-weight: 700;\n            src: url('/static/fonts/Inter-Bold.woff2?v=3.5') format('woff2'),\n              url('/static/fonts/Inter-Bold.woff?v=3.5') format('woff');\n          }\n          @font-face {\n            font-family: 'Inter';\n            font-style: italic;\n            font-weight: 700;\n            src: url('/static/fonts/Inter-BoldItalic.woff2?v=3.5')\n                format('woff2'),\n              url('/static/fonts/Inter-BoldItalic.woff?v=3.5') format('woff');\n          }\n\n          * {\n            box-sizing: border-box;\n          }\n          html {\n            background: #efefef;\n            font-family: 'Inter', serif;\n            font-size: ${font_size}px;\n            line-height: ${font_size * line_height}px;\n            text-rendering: optimizelegibility;\n            font-feature-settings: 'kern';\n            font-kerning: normal;\n            font-feature-settings: 'ss02' 1;\n            -webkit-font-smoothing: antialiased;\n            -moz-osx-font-smoothing: grayscale;\n          }\n          pre {\n            -webkit-font-smoothing: auto;\n            -moz-osx-font-smoothing: auto;\n            overflow-x: auto;\n            font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo,\n              Monaco, Courier New, monospace;\n          }\n          body {\n            margin: 0;\n          }\n          p {\n            margin: 0 0 0 0;\n            text-indent: ${grem}px;\n          }\n          a {\n            color: black;\n          }\n        `}</style>\n        <div\n          className=\"js-no-flash\"\n          style={{ display: loaded ? 'block' : null }}\n        >\n          <div style={{ padding: grem / 2 }}>\n            <div>Grant Custer</div>\n            <div>Designâ€“Code</div>\n            <div>\n              {ww}x{wh}\n            </div>\n            <div style={{ display: 'flex', paddingLeft: grem / 2 }}>\n              <div style={{ marginRight: grem / 2 }}>\n                {is_post ? (\n                  <Link href=\"/\">\n                    <a>Writing</a>\n                  </Link>\n                ) : (\n                  <span>Writing</span>\n                )}\n              </div>\n              <div style={{ marginRight: grem / 2 }}>\n                <a href=\"http://feed.grantcuster.com\">Feed</a>\n              </div>\n            </div>\n          </div>\n          {is_post ? (\n            <PostLayout pathname={pathname} grem={grem} c={c}>\n              <Component {...pageProps} />\n            </PostLayout>\n          ) : (\n            <Component {...pageProps} grem={grem} c={c} />\n          )}\n        </div>\n        <div style={{ padding: grem, textIndent: grem }}>\n          Generated\n          {origin !== null ? (\n            <span> from {this.link(origin)}</span>\n          ) : null} on {new Date().toLocaleString()}\n          {render_info !== null\n            ? ` with ${render_info.browser.name} ${\n                render_info.browser.version\n              } on ${render_info.os.name} ${render_info.os.version}`\n            : null}\n          .\n        </div>\n      </Container>\n    )\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AAXA;AAYA;AACA;;;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;;;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAyEA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWA;;;;AApKA;AACA;;;;;A","sourceRoot":""}