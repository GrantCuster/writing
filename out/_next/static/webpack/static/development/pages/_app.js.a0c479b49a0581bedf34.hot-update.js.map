{"version":3,"file":"static/webpack/static/development/pages/_app.js.a0c479b49a0581bedf34.hot-update.js","sources":["webpack:///./pages/_app.js"],"sourcesContent":["import App, { Container } from 'next/app'\nimport { PostLayout } from '../parts/Layout'\nimport React from 'react'\nimport { font_size, line_height, font_min, sm } from '../../exp/parts/Static'\nimport { debounce } from 'lodash'\nimport Header from '../parts/Header'\n\n// Override the App class to put layout component around the page contents\n// https://github.com/zeit/next.js#custom-app\n\nexport default class MyApp extends App {\n  constructor(props) {\n    super(props)\n    this.state = {\n      ww: 0,\n      optimal: null,\n      grid_canvas: null,\n      mode: 'light',\n      grid: 'hide',\n      showing_posts: 25,\n    }\n    this.setSize = this.setSize.bind(this)\n    this.setSize = debounce(this.setSize, 100)\n  }\n\n  setSize() {\n    let canvas = document.createElement('canvas')\n    let ctx = canvas.getContext('2d')\n    ctx.font = `normal ${font_size}px Inter`\n    let width = ctx.measureText(\n      'thousand writers. With over a million people from various fields working'\n    ).width\n    this.setState(\n      {\n        ww: window.innerWidth,\n        wh: window.innerHeight,\n        optimal: width + font_size * line_height,\n        // optimal: 633.50244140625,\n      },\n      () => {}\n    )\n  }\n\n  componentDidMount() {\n    window.addEventListener('resize', this.setSize)\n    this.setSize()\n\n    let canvas = document.createElement('canvas')\n    this.setState({ grid_canvas: canvas, mode: mode_value, grid: grid_value })\n  }\n\n  render() {\n    let { ww, wh, optimal, mode, grid, grid_canvas, showing_posts } = this.state\n    const { Component, pageProps } = this.props\n    const { pathname } = this.props.router\n\n    let is_post = pathname.startsWith('/posts/')\n\n    return (\n      <Container>\n        <style jsx global>{`\n          * {\n            box-sizing: border-box;\n          }\n          html {\n            font-family: 'Inter', serif;\n            font-size: ${font_size}px;\n            line-height: ${font_size * line_height}px;\n            text-rendering: optimizelegibility;\n            font-feature-settings: 'kern';\n            font-kerning: normal;\n            font-feature-settings: 'ss02' 1;\n            -webkit-font-smoothing: antialiased;\n            -moz-osx-font-smoothing: grayscale;\n          }\n          body {\n            margin: 0;\n            overflow-x: hidden;\n          }\n          a {\n            color: inherit;\n            text-decoration: none;\n            transition: opacity 0.025s linear;\n          }\n          a:hover {\n            opacity: 0.75;\n          }\n          a.no-hover:hover {\n            opacity: 1;\n          }\n          .hover_box_overlay {\n            opacity: 0;\n            transition: opacity 0.025s linear;\n          }\n          .hover_box:hover .hover_box_overlay {\n            opacity: 1;\n          }\n          a.gray-backer {\n            transition: background 0.05s linear;\n          }\n          a.gray-backer:hover {\n            background: #f3f3f3;\n          }\n        `}</style>\n\n        <div>\n          <Header />\n\n          {is_post ? (\n            <PostLayout pathname={pathname}>\n              <Component {...pageProps} />\n            </PostLayout>\n          ) : (\n            <Component {...pageProps} />\n          )}\n        </div>\n      </Container>\n    )\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AAXA;AAYA;AACA;;;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AAJA;AAQA;;;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA8CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AA5GA;AACA;;;;;A","sourceRoot":""}